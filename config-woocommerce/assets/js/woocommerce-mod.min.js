!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):b(a.jQuery)}(this,function(a){"use strict";function b(b){if(f.webkit&&!b)return{height:0,width:0};if(!f.data.outer){var c={border:"none","box-sizing":"content-box",height:"200px",margin:"0",padding:"0",width:"200px"};f.data.inner=a("<div>").css(a.extend({},c)),f.data.outer=a("<div>").css(a.extend({left:"-1000px",overflow:"scroll",position:"absolute",top:"-1000px"},c)).append(f.data.inner).appendTo("body")}return f.data.outer.scrollLeft(1e3).scrollTop(1e3),{height:Math.ceil(f.data.outer.offset().top-f.data.inner.offset().top||0),width:Math.ceil(f.data.outer.offset().left-f.data.inner.offset().left||0)}}function c(){var a=b(!0);return!(a.height||a.width)}function d(a){var b=a.originalEvent;return(!b.axis||b.axis!==b.HORIZONTAL_AXIS)&&!b.wheelDeltaX}var e=!1,f={data:{index:0,name:"scrollbar"},macosx:/mac/i.test(navigator.platform),mobile:/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/webkit/i.test(navigator.userAgent)&&!/edge\/\d+/i.test(navigator.userAgent)};f.scrolls.add=function(a){this.remove(a).push(a)},f.scrolls.remove=function(b){for(;a.inArray(b,this)>=0;)this.splice(a.inArray(b,this),1);return this};var g={autoScrollSize:!0,autoUpdate:!0,debug:!1,disableBodyScroll:!1,duration:200,ignoreMobile:!1,ignoreOverlay:!1,scrollStep:30,showArrows:!1,stepScrolling:!0,scrollx:null,scrolly:null,onDestroy:null,onInit:null,onScroll:null,onUpdate:null},h=function(d){f.scroll||(f.overlay=c(),f.scroll=b(),j(),a(window).resize(function(){var a=!1;if(f.scroll&&(f.scroll.height||f.scroll.width)){var c=b();(c.height!==f.scroll.height||c.width!==f.scroll.width)&&(f.scroll=c,a=!0)}j(a)})),this.container=d,this.namespace=".scrollbar_"+f.data.index++,this.options=a.extend({},g,window.jQueryScrollbarOptions||{}),this.scrollTo=null,this.scrollx={},this.scrolly={},d.data(f.data.name,this),f.scrolls.add(this)};h.prototype={destroy:function(){if(this.wrapper){this.container.removeData(f.data.name),f.scrolls.remove(this);var b=this.container.scrollLeft(),c=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:"",margin:"","max-height":""}).removeClass("scroll-content scroll-scrollx_visible scroll-scrolly_visible").off(this.namespace).scrollLeft(b).scrollTop(c),this.scrollx.scroll.removeClass("scroll-scrollx_visible").find("div").andSelf().off(this.namespace),this.scrolly.scroll.removeClass("scroll-scrolly_visible").find("div").andSelf().off(this.namespace),this.wrapper.remove(),a(document).add("body").off(this.namespace),a.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},init:function(b){var c=this,e=this.container,g=this.containerWrapper||e,h=this.namespace,i=a.extend(this.options,b||{}),j={x:this.scrollx,y:this.scrolly},k=this.wrapper,l={scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop()};if(f.mobile&&i.ignoreMobile||f.overlay&&i.ignoreOverlay||f.macosx&&!f.webkit)return!1;if(k)g.css({height:"auto","margin-bottom":-1*f.scroll.height+"px","margin-right":-1*f.scroll.width+"px","max-height":""});else{if(this.wrapper=k=a("<div>").addClass("scroll-wrapper").addClass(e.attr("class")).css("position","absolute"==e.css("position")?"absolute":"relative").insertBefore(e).append(e),e.is("textarea")&&(this.containerWrapper=g=a("<div>").insertBefore(e).append(e),k.addClass("scroll-textarea")),g.addClass("scroll-content").css({height:"auto","margin-bottom":-1*f.scroll.height+"px","margin-right":-1*f.scroll.width+"px","max-height":""}),e.on("scroll"+h,function(){a.isFunction(i.onScroll)&&i.onScroll.call(c,{maxScroll:j.y.maxScrollOffset,scroll:e.scrollTop(),size:j.y.size,visible:j.y.visible},{maxScroll:j.x.maxScrollOffset,scroll:e.scrollLeft(),size:j.x.size,visible:j.x.visible}),j.x.isVisible&&j.x.scroll.bar.css("left",e.scrollLeft()*j.x.kx+"px"),j.y.isVisible&&j.y.scroll.bar.css("top",e.scrollTop()*j.y.kx+"px")}),k.on("scroll"+h,function(){k.scrollTop(0).scrollLeft(0)}),i.disableBodyScroll){var m=function(a){d(a)?j.y.isVisible&&j.y.mousewheel(a):j.x.isVisible&&j.x.mousewheel(a)};k.on("MozMousePixelScroll"+h,m),k.on("mousewheel"+h,m),f.mobile&&k.on("touchstart"+h,function(b){var c=b.originalEvent.touches&&b.originalEvent.touches[0]||b,d={pageX:c.pageX,pageY:c.pageY},f={left:e.scrollLeft(),top:e.scrollTop()};a(document).on("touchmove"+h,function(a){var b=a.originalEvent.targetTouches&&a.originalEvent.targetTouches[0]||a;e.scrollLeft(f.left+d.pageX-b.pageX),e.scrollTop(f.top+d.pageY-b.pageY),a.preventDefault()}),a(document).on("touchend"+h,function(){a(document).off(h)})})}a.isFunction(i.onInit)&&i.onInit.apply(this,[e])}a.each(j,function(b,f){var g=null,k=1,l="x"===b?"scrollLeft":"scrollTop",m=i.scrollStep,n=function(){var a=e[l]();e[l](a+m),1==k&&a+m>=o&&(a=e[l]()),-1==k&&o>=a+m&&(a=e[l]()),e[l]()==a&&g&&g()},o=0;f.scroll||(f.scroll=c._getScroll(i["scroll"+b]).addClass("scroll-"+b),i.showArrows&&f.scroll.addClass("scroll-element_arrows_visible"),f.mousewheel=function(a){if(!f.isVisible||"x"===b&&d(a))return!0;if("y"===b&&!d(a))return j.x.mousewheel(a),!0;var g=-1*a.originalEvent.wheelDelta||a.originalEvent.detail,h=f.size-f.visible-f.offset;return(g>0&&h>o||0>g&&o>0)&&(o+=g,0>o&&(o=0),o>h&&(o=h),c.scrollTo=c.scrollTo||{},c.scrollTo[l]=o,setTimeout(function(){c.scrollTo&&(e.stop().animate(c.scrollTo,240,"linear",function(){o=e[l]()}),c.scrollTo=null)},1)),a.preventDefault(),!1},f.scroll.on("MozMousePixelScroll"+h,f.mousewheel).on("mousewheel"+h,f.mousewheel).on("mouseenter"+h,function(){o=e[l]()}),f.scroll.find(".scroll-arrow, .scroll-element_track").on("mousedown"+h,function(d){if(1!=d.which)return!0;k=1;var h={eventOffset:d["x"===b?"pageX":"pageY"],maxScrollValue:f.size-f.visible-f.offset,scrollbarOffset:f.scroll.bar.offset()["x"===b?"left":"top"],scrollbarSize:f.scroll.bar["x"===b?"outerWidth":"outerHeight"]()},j=0,p=0;return a(this).hasClass("scroll-arrow")?(k=a(this).hasClass("scroll-arrow_more")?1:-1,m=i.scrollStep*k,o=k>0?h.maxScrollValue:0):(k=h.eventOffset>h.scrollbarOffset+h.scrollbarSize?1:h.eventOffset<h.scrollbarOffset?-1:0,m=Math.round(.75*f.visible)*k,o=h.eventOffset-h.scrollbarOffset-(i.stepScrolling?1==k?h.scrollbarSize:0:Math.round(h.scrollbarSize/2)),o=e[l]()+o/f.kx),c.scrollTo=c.scrollTo||{},c.scrollTo[l]=i.stepScrolling?e[l]()+m:o,i.stepScrolling&&(g=function(){o=e[l](),clearInterval(p),clearTimeout(j),j=0,p=0},j=setTimeout(function(){p=setInterval(n,40)},i.duration+100)),setTimeout(function(){c.scrollTo&&(e.animate(c.scrollTo,i.duration),c.scrollTo=null)},1),c._handleMouseDown(g,d)}),f.scroll.bar.on("mousedown"+h,function(d){if(1!=d.which)return!0;var g=d["x"===b?"pageX":"pageY"],i=e[l]();return f.scroll.addClass("scroll-draggable"),a(document).on("mousemove"+h,function(a){var c=parseInt((a["x"===b?"pageX":"pageY"]-g)/f.kx,10);e[l](i+c)}),c._handleMouseDown(function(){f.scroll.removeClass("scroll-draggable"),o=e[l]()},d)}))}),a.each(j,function(a,b){var c="scroll-scroll"+a+"_visible",d="x"==a?j.y:j.x;b.scroll.removeClass(c),d.scroll.removeClass(c),g.removeClass(c)}),a.each(j,function(b,c){a.extend(c,"x"==b?{offset:parseInt(e.css("left"),10)||0,size:e.prop("scrollWidth"),visible:k.width()}:{offset:parseInt(e.css("top"),10)||0,size:e.prop("scrollHeight"),visible:k.height()})}),this._updateScroll("x",this.scrollx),this._updateScroll("y",this.scrolly),a.isFunction(i.onUpdate)&&i.onUpdate.apply(this,[e]),a.each(j,function(a,b){var c="x"===a?"left":"top",d="x"===a?"outerWidth":"outerHeight",f="x"===a?"width":"height",g=parseInt(e.css(c),10)||0,h=b.size,j=b.visible+g,k=b.scroll.size[d]()+(parseInt(b.scroll.size.css(c),10)||0);i.autoScrollSize&&(b.scrollbarSize=parseInt(k*j/h,10),b.scroll.bar.css(f,b.scrollbarSize+"px")),b.scrollbarSize=b.scroll.bar[d](),b.kx=(k-b.scrollbarSize)/(h-j)||1,b.maxScrollOffset=h-j}),e.scrollLeft(l.scrollLeft).scrollTop(l.scrollTop).trigger("scroll")},_getScroll:function(b){var c={advanced:['<div class="scroll-element">','<div class="scroll-element_corner"></div>','<div class="scroll-arrow scroll-arrow_less"></div>','<div class="scroll-arrow scroll-arrow_more"></div>','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_inner-wrapper">','<div class="scroll-element_inner scroll-element_track">','<div class="scroll-element_inner-bottom"></div>',"</div>","</div>",'<div class="scroll-bar">','<div class="scroll-bar_body">','<div class="scroll-bar_body-inner"></div>',"</div>",'<div class="scroll-bar_bottom"></div>','<div class="scroll-bar_center"></div>',"</div>","</div>","</div>"].join(""),simple:['<div class="scroll-element">','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_track"></div>','<div class="scroll-bar"></div>',"</div>","</div>"].join("")};return c[b]&&(b=c[b]),b||(b=c.simple),b="string"==typeof b?a(b).appendTo(this.wrapper):a(b),a.extend(b,{bar:b.find(".scroll-bar"),size:b.find(".scroll-element_size"),track:b.find(".scroll-element_track")}),b},_handleMouseDown:function(b,c){var d=this.namespace;return a(document).on("blur"+d,function(){a(document).add("body").off(d),b&&b()}),a(document).on("dragstart"+d,function(a){return a.preventDefault(),!1}),a(document).on("mouseup"+d,function(){a(document).add("body").off(d),b&&b()}),a("body").on("selectstart"+d,function(a){return a.preventDefault(),!1}),c&&c.preventDefault(),!1},_updateScroll:function(b,c){var d=this.container,e=this.containerWrapper||d,g="scroll-scroll"+b+"_visible",h="x"===b?this.scrolly:this.scrollx,i=parseInt(this.container.css("x"===b?"left":"top"),10)||0,j=this.wrapper,k=c.size,l=c.visible+i;c.isVisible=k-l>1,c.isVisible?(c.scroll.addClass(g),h.scroll.addClass(g),e.addClass(g)):(c.scroll.removeClass(g),h.scroll.removeClass(g),e.removeClass(g)),"y"===b&&e.css(d.is("textarea")||l>k?{height:l+f.scroll.height+"px","max-height":"none"}:{"max-height":l+f.scroll.height+"px"}),(c.size!=d.prop("scrollWidth")||h.size!=d.prop("scrollHeight")||c.visible!=j.width()||h.visible!=j.height()||c.offset!=(parseInt(d.css("left"),10)||0)||h.offset!=(parseInt(d.css("top"),10)||0))&&(a.extend(this.scrollx,{offset:parseInt(d.css("left"),10)||0,size:d.prop("scrollWidth"),visible:j.width()}),a.extend(this.scrolly,{offset:parseInt(d.css("top"),10)||0,size:this.container.prop("scrollHeight"),visible:j.height()}),this._updateScroll("x"===b?"y":"x",h))}};var i=h;a.fn.scrollbar=function(b,c){return"string"!=typeof b&&(c=b,b="init"),"undefined"==typeof c&&(c=[]),a.isArray(c)||(c=[c]),this.not("body, .scroll-wrapper").each(function(){var d=a(this),e=d.data(f.data.name);(e||"init"===b)&&(e||(e=new i(d)),e[b]&&e[b].apply(e,c))}),this},a.fn.scrollbar.options=g;var j=function(){var a=0,b=0;return function(c){var d,g,h,i,k,l,m;for(d=0;d<f.scrolls.length;d++)i=f.scrolls[d],g=i.container,h=i.options,k=i.wrapper,l=i.scrollx,m=i.scrolly,(c||h.autoUpdate&&k&&k.is(":visible")&&(g.prop("scrollWidth")!=l.size||g.prop("scrollHeight")!=m.size||k.width()!=l.visible||k.height()!=m.visible))&&(i.init(),h.debug&&(window.console&&console.log({scrollHeight:g.prop("scrollHeight")+":"+i.scrolly.size,scrollWidth:g.prop("scrollWidth")+":"+i.scrollx.size,visibleHeight:k.height()+":"+i.scrolly.visible,visibleWidth:k.width()+":"+i.scrollx.visible},!0),b++));e&&b>10?(window.console&&console.log("Scroll updates exceed 10"),j=function(){}):(clearTimeout(a),a=setTimeout(j,300))}}();window.angular&&!function(a){a.module("jQueryScrollbar",[]).provider("jQueryScrollbar",function(){var b=g;return{setOptions:function(c){a.extend(b,c)},$get:function(){return{options:a.copy(b)}}}}).directive("jqueryScrollbar",function(a,b){return{restrict:"AC",link:function(c,d,e){var f=b(e.jqueryScrollbar),g=f(c);d.scrollbar(g||a.options).on("$destroy",function(){d.scrollbar("destroy")})}}})}(window.angular)}),function(a,b){a.terminus_woocommerce_mod=a.terminus_woocommerce_mod||{},a.terminus_woocommerce_mod.lookbooks=function(){if(a(".lookbooks-container.view-carousel").length){var b=a(".lookbooks-container.view-carousel");b.each(function(){var b=a(this),c=a(".lookbook_carousel_fw",b),d=c.children().length,e=b.data("columns")||4,f={responsive:{0:{items:1},600:{items:2},801:{items:3},1200:{items:e}},margin:30,nav:!0,navText:[],navClass:["btn rd-white_black owl_nav_prev nav_prev","btn rd-white_black owl_nav_next nav_next"],rtl:!a.terminus_core.ISRTL,onInitialized:function(){var b=a(this.$element.context);b.closest(".vc_row-has-fill").length&&b.find('[class*="owl_nav"]').removeClass("rd-white_black").addClass("rd-white")},onResize:function(){}};d>1&&c.owlCarousel(f)})}},a.terminus_woocommerce_mod.qty=function(){a(document).on("click",".plus, .minus",function(){var b=a(this).closest(".qty").find(".input-text"),c=parseFloat(b.val()),d=parseFloat(b.attr("max")),e=parseFloat(b.attr("min")),f=b.attr("step");c&&""!==c&&"NaN"!==c||(c=0),""!==d&&"NaN"!==d||(d=""),""!==e&&"NaN"!==e||(e=0),"any"!==f&&""!==f&&void 0!==f&&"NaN"!==parseFloat(f)||(f=1),a(this).is(".plus")?d&&(d==c||c>d)?b.val(d):b.val(c+parseFloat(f)):e&&(e==c||c<e)?b.val(e):c>0&&b.val(c-parseFloat(f)),b.trigger("change")})},a.terminus_woocommerce_mod.cart_dropdown=function(){({init:function(){var a=this;a.support={touchevents:Modernizr.touchevents,transitions:Modernizr.csstransitions},a.eventtype=a.support.touchevents?"touchstart":"click",a.listeners()},listeners:function(){var a=this;a.track_ajax_refresh_cart(a),a.track_ajax_adding_to_cart(),a.track_ajax_added_to_cart(a)},track_ajax_refresh_cart:function(b){a.ajax({type:"POST",dataType:"json",url:terminus_global_vars.ajaxurl,data:{action:"terminus_refresh_cart_fragment"},success:function(c){b.update_cart_fragment(c.fragments),a("body").trigger("wc_fragments_loaded")}}),a("body").on("wc_fragments_refreshed wc_fragments_loaded",function(a){b.ajax_remove_cart_item(b)})},track_ajax_adding_to_cart:function(){a("body").on("adding_to_cart",function(a,b,c){a.preventDefault(),b.block({message:null,overlayCSS:{background:"#fff url("+terminus_global_vars.ajax_loader_url+") no-repeat center",backgroundSize:"16px 16px",opacity:.6}})})},track_ajax_added_to_cart:function(b){a("body").on("added_to_cart",function(a,c,d,e){e.unblock().hide(),b.update_count_and_subtotal(c),b.update_cart_dropdown.call(b,a)})},update_count_and_subtotal:function(b){a("#shopping_cart_btn").attr("data-amount",b.count)},update_cart_dropdown:function(a){this.ajax_remove_cart_item(this)},update_cart_fragment:function(b){b&&a.each(b,function(b,c){a(b).replaceWith(c)})},ajax_remove_cart_item:function(b){a(".shopping_cart .remove-product").on(b.eventtype,function(c){c.preventDefault();var d=a(this),e=d.data("cart_id");d.data("product_id");a.ajax({type:"POST",dataType:"json",url:terminus_global_vars.ajaxurl,data:{action:"terminus_cart_item_remove",_wpnonce:terminus_woocommerce_mod.nonce_cart_item_remove,cart_id:e},success:function(c){var e=c.fragments;e&&d.parent().animate({opacity:0},function(){var c=a(this);c.slideUp(350,function(){c.remove(),b.update_count_and_subtotal(e),b.update_cart_fragment(e),a("body").trigger("wc_fragments_refreshed")})})}})})}}).init()},a.terminus_woocommerce_mod.zoom=function(){if(a(".single_product.images").length){if(a.terminus_woocommerce_mod.getGalleryList=function(){var b=[],c="product_preview";return a("."+c+" a").each(function(){var c="";a(this).data("zoom-image")?c=a(this).data("zoom-image"):a(this).data("image")&&(c=a(this).data("image")),c&&b.push({href:""+c,title:a(this).find("img").attr("title")})}),b},a(".image_preview_container").length){var b=a(".image_preview_container");b.each(function(){var b=a(this),c=b.data("id");a("#img_zoom",b).length&&a("#img_zoom",b).elevateZoom({zoomType:"inner",gallery:"thumbnails_"+c,galleryActiveClass:"active",cursor:"crosshair",responsive:!0,easing:!0,zoomWindowFadeIn:500,zoomWindowFadeOut:500,lensFadeIn:500,lensFadeOut:500})})}a(".open_qv").length&&a(".open_qv").on("click",function(b){b.preventDefault();var c;if(a("#img_zoom").length){var d=a(this),e=d.siblings("img").data("elevateZoom");c=e.getGalleryList()}else c=a.terminus_woocommerce_mod.getGalleryList();a.fancybox(c)})}},a.terminus_woocommerce_mod.product_filter_styles=function(){var b=a(".products-container.view-carousel, .products-container.with-filter");b.length&&b.each(function(){var b=a(this),c=a("body"),d=a("div.products",b),e=d.children().length,f=b.data("columns")?b.data("columns"):"no_sidebar"==b.data("sidebar")?3:2,g=b.data("columns")?b.data("columns"):"no_sidebar"==b.data("sidebar")?4:3;if(b.hasClass("view-carousel")){var h={navText:[],navClass:["btn rd-white_black owl_nav_prev nav_prev","btn rd-white_black owl_nav_next nav_next"],responsive:{0:{items:1},420:{items:2},650:{items:2},992:{items:f},1200:{items:g}},margin:30,nav:!0,autoHeight:!0,stagePadding:0,themeClass:"products_carousel",rtl:!a.terminus_core.ISRTL,onInitialized:function(){var b=a(this.$element.context),d=this,e=d.$element,f={};a.each(d._items,function(a,b){f[a]=b.children()}),c.on("click",".products-filter li",function(b){b.preventDefault();var c=a(this),d=c.children().data("filter");c.is(".active")||(e.addClass("changed").animate({opacity:0},200,function(){var b="";"*"==d?a.each(f,function(a,c){b+=c.parent().html()}):a.each(f,function(c,e){var f=a(e);f.hasClass(d)&&(b+=e.parent().html())}),""!=b.length&&(e.trigger("replace.owl.carousel",b),e.trigger("refresh.owl.carousel").removeClass("changed").animate({opacity:1},200),a.terminus_woocommerce_mod.product_thumbs(),a.terminus_core.events.moveScroll())}),c.closest("li").addClass("active").siblings().removeClass("active"))}),b.closest(".vc_row-has-fill").length&&b.find('[class*="owl_nav"]').removeClass("rd-white_black").addClass("rd-white")},onResize:function(){}};e>1&&d.owlCarousel(h)}else{var i=d,j={};a.each(i.children(),function(b,c){j[b]=a(c)}),c.on("click",".products-filter li",function(b){var c=a(this),d=c.children().data("filter");c.is(".active")||(i.addClass("changed").animate({opacity:0},200,function(){var b="";"*"==d?a.each(j,function(c,d){var e=a(d),f=e.wrap("<div></div>");b+=f.parent().html()}):a.each(j,function(c,e){var f=a(e);if(f.hasClass(d)){var g=f.wrap("<div></div>");b+=g.parent().html()}}),""!=b.length&&(i.html(b).removeClass("changed").animate({opacity:1},200),a.terminus_woocommerce_mod.product_thumbs(),a.terminus_core.events.moveScroll())}),c.closest("li").addClass("active").siblings().removeClass("active"))})}})},a.terminus_woocommerce_mod.tabbed=function(){if(a('[class*="tabs-holder"]').length){var b=a('[class*="tabs-holder"]');b.each(function(b,c){var d=a('[class*="tabs-nav"]',c),e=Modernizr.touchevents?"touchstart":"click";d.on(e,"a",function(b){b.preventDefault();var c=a(this).parent("li"),d=c.index();c.hasClass("active")&&b.preventDefault(),c.siblings().removeClass("active").end().addClass("active").parent().next().children('[class*="tab-content"]').stop(!0,!0).hide().eq(d).stop(!0,!0).fadeIn(800)})})}},a.terminus_woocommerce_mod.product_thumbs_carousel=function(){if(a(".product_thumbs_carousel").length){var b=a(".product_thumbs_carousel"),c=b.owlCarousel({responsive:{0:{items:3},480:{items:4},991:{items:3},1200:{items:4}},margin:10,smartSpeed:500,nav:!0,navText:[],navClass:["btn rd-black icon_only mini owl_nav_prev nav_prev","btn rd-black icon_only mini owl_nav_next nav_next"],rtl:!a.terminus_core.ISRTL,onInitialized:function(){var b=a(this.$element.context);b.closest(".vc_row-has-fill").length&&b.find('[class*="owl_nav"]').removeClass("rd-white_black").addClass("rd-white")}});c.off("change.owl.carousel")}},a.terminus_woocommerce_mod.goto_review=function(){a(".woocommerce-review-link, .woocommerce-write-review-link").on("click",function(b){var c=a(this),d=c.attr("href"),e=a(this.hash);e.length&&("#reviews"!=d&&"#commentform"!=d||(b.preventDefault(),a(".tabs_nav li.reviews_tab a").trigger("click"),setTimeout(function(){a("html, body").stop().animate({scrollTop:e.offset().top},600)},50)))});var c=b.location.hash;"#commentform"!=c&&"#reviews"!=c&&c.indexOf("#comment-")==-1||setTimeout(function(){var b=a(c);b.length&&("#reviews"!=c&&"#commentform"!=c||a(".tabs_nav li.reviews_tab a").trigger("click"))},200)},a.terminus_woocommerce_mod.product_thumbs=function(){var c={init:function(){var b=this,c=a(".product_thumbs");c.length&&c.on("click","li",{self:b},b.changeImage)},changeImage:function(b){var c=a(this),d=c.data("large-image");c.addClass("active").siblings().removeClass("active"),c.closest(".product_thumbs_wrap").siblings(".product_images").children("img").attr("src",d)}};c.init(),a(b).on("woof_ajax_done",function(){c.init()})},a.terminus_woocommerce_mod.product_preview=function(){var b=a(".product_preview[data-output]");b.length&&b.each(function(b,c){var d=a(c),e=a(d.data("output"));d.find("[data-image]:first").addClass("active"),d.on("click",".elzoom",function(b){b.preventDefault();var c=a(this);if(!c.hasClass("active")){c.parents(".thumbs_carousel").find("a").removeClass("active"),c.addClass("active");var d=a(this).data("image");e.length&&e.children("img").stop().animate({opacity:0},250,function(){a(this).attr("src",d).stop().animate({opacity:1})})}})})},a.terminus_woocommerce_mod.isotope=function(){({init:function(){var c=this;c.holder=a(".isotope_products"),c.holder.length&&(c.container=c.holder.find("div.products").eq(0),c.container.length&&(c.projectDetailsSameHeight(),c.initialize(),a(".sort_view",c.holder).length&&c.changeViewType(),a(b).on("resize.same_height",c.projectDetailsSameHeight.bind(c))))},config:{transitionDuration:"0.55s",layoutMode:"fitRows",itemSelector:".product_item",isOriginLeft:!!a.terminus_core.ISRTL},initialize:function(){this.container.isotope(this.config)},changeViewType:function(){var b=this;a(".sort_view").on("click.changeViewType","a",function(c){c.preventDefault();var d=a(c.currentTarget),e=d.data("view"),f=d.closest(".isotope_products"),g=a(".products",f);d.siblings().removeClass("active").end().addClass("active"),"view-grid"==e?(f.removeClass("view-list"),b.projectDetailsSameHeight()):(f.addClass("view-list"),f.find(".product_details_area").css("height","auto")),b.productDescription(),g.isotope("layout")})},projectDetailsSameHeight:function(){var a=this,b=a.container.find(".product_box"),c=Math.ceil(a.container.outerWidth()/b.parent().outerWidth());if(b.length)for(var d=0;d<b.length;d+=c){var e=b.slice(d,d+c);a.setMaxHeight(e,".product_details_area")}},setMaxHeight:function(b,c){var d=0,e=b.find(c).css("height","auto");e.each(function(b,c){var e=a(c).outerHeight();e>d&&(d=e)}),e.css("height",d)},productDescription:function(){function e(){d.each(function(){var b=a(this);b.css("height","auto"),b.outerHeight()>c?b.css({"overflow-y":"scroll",height:c}):b.css("overflow","visible")})}var c=63,d=a(".view-list .product_description");d.length&&(a(b).off("resize.productDescription"),e(),a(b).on("resize.productDescription",e))}}).init()},a.terminus_woocommerce_mod.check_cart_variation=function(){return"undefined"!=typeof wc_add_to_cart_variation_params&&(a(".variations_form").wc_variation_form(),void a(".variations_form .variations select").change())},a.terminus_woocommerce_mod.form_login=function(){a(".to-login").length&&a("body").on("click.formLogin",".to-login",function(c){c.preventDefault();var d=a(this),e=d.data().href;data={},data.action=d.data("modal-action"),data._wpnonce=d.data("modal-nonce"),"undefined"!=data.action&&a.arcticmodal({type:"ajax",url:terminus_global_vars.ajaxurl,ajax:{type:"POST",data:data,cache:!1,success:function(a,b,c){a.body.html(c)}},afterLoadingOnShow:function(){a("form.login").ajaxForm({success:function(){a.arcticmodal("close"),b.location.href=e}})},overlay:{css:{backgroundColor:"#000",opacity:".7"}},afterClose:function(){}})})},a.terminus_woocommerce_mod.quick_view=function(){a("body").on("click.quickView",".quick-view",function(b){b.preventDefault();var c=a(this),d={};d.action=c.data("modal-action"),d.id=c.data("id"),d._wpnonce=c.data("modal-nonce"),"undefined"!=d.action&&a.arcticmodal({type:"ajax",url:terminus_global_vars.ajaxurl,ajax:{type:"POST",data:d,cache:!1,success:function(a,b,c){a.body.html(c)}},afterLoadingOnShow:function(){var b=a(".arcticmodal-container");if(a.terminus_woocommerce_mod.product_thumbs_carousel(),b.find("#img_zoom").length&&!b.find("#img_zoom").data("init")){a("body").addClass("popup_with_zoomed_image");var c=a(".zoomContainer");c.remove(),a.terminus_woocommerce_mod.zoom(),b.find("#img_zoom").data("init",!0)}},overlay:{css:{backgroundColor:"#000",opacity:".7"}},afterClose:function(){if(a(".zoomContainer").length){var b=a(".zoomContainer");b.remove(),a("body").removeClass("popup_with_zoomed_image").css({overflow:"auto"}),a.terminus_woocommerce_mod.zoom()}}})})},a.terminus_woocommerce_mod.toggleCategories=function(){var b=a(".product-categories");b.length&&(b.find("li").each(function(b,c){a(c).children("ul.children").length&&(a(c).not(".active").children(".children").hide(),a(c).children("a").append('<span class="open_subcategory"></span>'))}),b.on("click",".open_subcategory",function(b){b.preventDefault();var c=a(b.target),d=c.parent("a").parent("li");d.children("ul.children").length&&d.toggleClass("active").children("ul.children").slideToggle(700,"easeInOutQuart")}))},a.terminus_woocommerce_mod.product_share_button=function(){a("body").on("click.shareButton",".product-share-button",function(b){b.preventDefault();var c=a(this),d={};d.action=c.data("modal-action"),d.post_id=c.data("post-id"),d._wpnonce=c.data("modal-nonce"),"undefined"!=d.action&&a.arcticmodal({type:"ajax",url:terminus_global_vars.ajaxurl,ajax:{type:"POST",data:d,cache:!1,success:function(a,b,c){a.body.html(c)}},afterLoadingOnShow:function(b){if(a("#img_zoom").length){var c=a("#img_zoom").data("elevateZoom");"undefined"!=typeof c&&(a.removeData(c,"elevateZoom"),a(".zoomContainer").remove())}},overlay:{css:{backgroundColor:"#000",opacity:".7"}},afterClose:function(){a.terminus_woocommerce_mod.zoom()}})})},a(b).load(function(){a.terminus_woocommerce_mod.isotope(),a.terminus_woocommerce_mod.product_thumbs_carousel(),a.terminus_woocommerce_mod.product_filter_styles(),a.terminus_woocommerce_mod.quick_view(),a.terminus_woocommerce_mod.lookbooks()}),a(function(){a.terminus_woocommerce_mod.cart_dropdown(),a.terminus_woocommerce_mod.form_login(),a.terminus_woocommerce_mod.zoom(),a.terminus_woocommerce_mod.qty(),a.terminus_woocommerce_mod.toggleCategories(),a.terminus_woocommerce_mod.tabbed(),a.terminus_woocommerce_mod.product_preview(),a.terminus_woocommerce_mod.goto_review(),a.terminus_woocommerce_mod.product_thumbs(),a.terminus_woocommerce_mod.product_share_button()})}(jQuery,window);